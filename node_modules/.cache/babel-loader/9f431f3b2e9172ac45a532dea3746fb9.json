{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/movies/MovieSingle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/movies/MovieSingle.vue","mtime":1654080876329},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQkZvcm0sIEJGb3JtRGF0ZXBpY2tlciwgQkZvcm1JbnB1dCB9IGZyb20gImJvb3RzdHJhcC12dWUiOwppbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAiQC9hcGkiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKaW1wb3J0IHsgTG9hZGluZ0FuaW1hdGlvbiB9IGZyb20gIkAvY29tcG9uZW50cy9zaGFyZWQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1vdmllU2luZ2xlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW92aWVEYXRhOiBudWxsLAogICAgICBhY3RvcnM6IFtdLAogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBzZWxlY3RlZEFjdG9yczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUuc3RhcnRzV2l0aCgiYXBwX21vdmllc19uZXciKSkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLm1vdmllRGF0YSA9IHsKICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICByZWxlYXNlX2RhdGU6IG51bGwsCiAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgICAgYWN0b3JzOiBbXQogICAgICB9OwogICAgfQoKICAgIHRoaXMuaW5pdGlhbGlzZU1vdmllRm9ybSgpOwogIH0sCiAgY29tcG9uZW50czogewogICAgQkZvcm06IEJGb3JtLAogICAgQkZvcm1JbnB1dDogQkZvcm1JbnB1dCwKICAgIEJGb3JtRGF0ZXBpY2tlcjogQkZvcm1EYXRlcGlja2VyLAogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0LAogICAgTG9hZGluZ0FuaW1hdGlvbjogTG9hZGluZ0FuaW1hdGlvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VUaXRsZTogZnVuY3Rpb24gcGFnZVRpdGxlKCkgewogICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICYmICF0aGlzLmlzTG9hZGluZyAmJiB0aGlzLm1vdmllRGF0YSkgewogICAgICAgIHJldHVybiAiRWRpdCAiICsgdGhpcy5tb3ZpZURhdGEudGl0bGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJOZXcgTW92aWUiOwogICAgICB9CiAgICB9LAogICAgc3VibWl0VGV4dDogZnVuY3Rpb24gc3VibWl0VGV4dCgpIHsKICAgICAgdmFyIGJ1dHRvblRleHQ7CgogICAgICBzd2l0Y2ggKHRoaXMuJHJvdXRlLm5hbWUpIHsKICAgICAgICBjYXNlICJhcHBfbW92aWVzX25ldyI6CiAgICAgICAgICB0aGlzLnNhdmluZyA/IGJ1dHRvblRleHQgPSAiQWRkaW5nIE1vdmllIiA6IGJ1dHRvblRleHQgPSAiU2F2ZSBNb3ZpZSI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYXBwX21vdmllc19lZGl0IjoKICAgICAgICAgIHRoaXMuc2F2aW5nID8gYnV0dG9uVGV4dCA9ICJVcGRhdGluZyBNb3ZpZSIgOiBidXR0b25UZXh0ID0gIlVwZGF0ZSBNb3ZpZSI7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcmV0dXJuIGJ1dHRvblRleHQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDYW5jZWxDbGljazogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsQ2xpY2soKSB7CiAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCkgewogICAgICAgIGhpc3RvcnkuZ28oLTEpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJhcHBfbW92aWVzX3ZpZXciLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiB0aGlzLm1vdmllRGF0YS5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJhcHBfbW92aWVzX2xpc3QiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0aWFsaXNlTW92aWVGb3JtOiBmdW5jdGlvbiBpbml0aWFsaXNlTW92aWVGb3JtKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CgogICAgICBpZiAodGhpcy4kcm91dGUubmFtZS5zdGFydHNXaXRoKCJhcHBfbW92aWVzX2VkaXQiKSkgewogICAgICAgIHRoaXMubG9hZE1vdmllKCk7CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZEFjdG9ycygpOwogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGxvYWRBY3RvcnM6IGZ1bmN0aW9uIGxvYWRBY3RvcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0b3JzKCkuZ2V0QWxsKC0xKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFjdG9ycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9ICJGYWlsZWQgdG8gbG9hZCBhY3RvcnMiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZE1vdmllOiBmdW5jdGlvbiBsb2FkTW92aWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlLCBtb3ZpZURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmZXRjaGluZyBtb3ZpZSIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5tb3ZpZXMoKS5nZXQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIG1vdmllRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZEFjdG9ycyA9IG1vdmllRGF0YS5jYXN0OwogICAgICAgICAgICAgICAgICBtb3ZpZURhdGEuYWN0b3JzID0gW107CiAgICAgICAgICAgICAgICAgIG1vdmllRGF0YS5jYXN0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgICBtb3ZpZURhdGEuYWN0b3JzLnB1c2godi5pZCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBtb3ZpZURhdGEuY2FzdCA9IFtdOyAvLyBtb3ZpZURhdGEuY2FzdC5yZW1vdmUoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5tb3ZpZURhdGEgPSBtb3ZpZURhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSAiRmFpbGVkIHRvIGxvYWQgbW92aWUiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzYXZlTW92aWU6IGZ1bmN0aW9uIHNhdmVNb3ZpZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5zYXZpbmcgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLm1vdmllcygpLnVwZGF0ZShfdGhpczMuJHJvdXRlLnBhcmFtcy5pZCwgX3RoaXMzLm1vdmllRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkubW92aWVzKCkuY3JlYXRlKF90aGlzMy5tb3ZpZURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfbW92aWVzX2xpc3QiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvciA9IG51bGw7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9yID0gIkVycm9yIHdoZW4gdXBkYXRpbmcgYWN0b3IiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmVycm9yID0gIkVycm9yIHdoZW4gc2F2aW5nIGFjdG9yIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuc2F2aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZEFjdG9yOiBmdW5jdGlvbiBhZGRBY3RvcihlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJzZWxlY3Rpb24iLCBlLmlkKTsKICAgICAgdGhpcy5tb3ZpZURhdGEuYWN0b3JzLnB1c2goZS5pZCk7CiAgICB9LAogICAgcmVtb3ZlQWN0b3I6IGZ1bmN0aW9uIHJlbW92ZUFjdG9yKGUpIHsKICAgICAgY29uc29sZS5sb2coInJlbW92ZSIsIGUuaWQpOwogICAgICB0aGlzLm1vdmllRGF0YS5hY3RvcnMgPSB0aGlzLm1vdmllRGF0YS5hY3RvcnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYgIT09IGUuaWQ7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AAEA;EACAA,mBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,eADA;MAEAC,UAFA;MAGAC,eAHA;MAIAC,WAJA;MAKAC;IALA;EAOA,CAVA;EAWAC,OAXA,qBAWA;IACA;MACA;MACA;QACAC,WADA;QAEAC,kBAFA;QAGAC,WAHA;QAIAP;MAJA;IAMA;;IAEA;EACA,CAvBA;EAwBAQ;IACAC,YADA;IAEAC,sBAFA;IAGAC,gCAHA;IAIAC,wBAJA;IAKAC;EALA,CAxBA;EA+BAC;IACAC,SADA,uBACA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CATA;IAUAC,UAVA,wBAUA;MACA;;MACA;QACA;UACA,cACAC,2BADA,GAEAA,yBAFA;UAGA;;QACA;UACA,cACAA,6BADA,GAEAA,2BAFA;UAGA;MAVA;;MAYA;IACA;EAzBA,CA/BA;EA0DAC;IACAC,iBADA,+BACA;MACA;QACAC;MACA,CAFA,MAEA;QACA;UACAvB,uBADA;UAEAwB;YAAAC;UAAA;QAFA;MAIA,CALA,MAKA;QACA;UACAzB;QADA;MAGA;IACA,CAdA;IAeA0B,mBAfA,iCAeA;MACA;;MACA;QACA;MACA;;MACA;MACA;IACA,CAtBA;IAuBAC,UAvBA,wBAuBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,4CADA;;cAAA;gBACAC,QADA;;gBAEA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA,CA9BA;IA+BAC,SA/BA,uBA+BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBADA;gBAAA,OAEAH,yBACAI,MADA,GAEAC,GAFA,CAEA,uBAFA,CAFA;;cAAA;gBAEAJ,QAFA;;gBAKA;kBACA3B,SADA,GACA2B,aADA;kBAEA;kBACA3B;kBACAA;oBACAA;kBACA,CAFA;kBAGAA,oBAPA,CAQA;;kBACA;gBACA,CAVA,MAUA;kBACA;gBACA;;cAjBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAkBA,CAjDA;IAkDAgC,SAlDA,uBAkDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;;gBADA,KAKA,uBALA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAMAN,yBACAI,MADA,GAEAG,MAFA,CAEA,uBAFA,EAEA,gBAFA,CANA;;cAAA;gBAMAN,QANA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAUAD,yBACAI,MADA,GAEAI,MAFA,CAEA,gBAFA,CAVA;;cAAA;gBAUAP,QAVA;;cAAA;gBAAA,KAeAA,gBAfA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAgBA;kBAAA7B;gBAAA,EAhBA;;cAAA;gBAiBA;gBAjBA;gBAAA;;cAAA;gBAmBA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;cAvBA;gBA0BAqC;kBACA;gBACA,CAFA,EAEA,IAFA;;cA1BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA6BA,CA/EA;IAgFAC,QAhFA,oBAgFAC,CAhFA,EAgFA;MACAR;MACA;IACA,CAnFA;IAoFAS,WApFA,uBAoFAD,CApFA,EAoFA;MACAR;MACA;QAAA;MAAA;IACA;EAvFA;AA1DA","names":["name","data","movieData","actors","isLoading","error","selectedActors","created","title","release_date","image","components","BForm","BFormInput","BFormDatepicker","Multiselect","LoadingAnimation","computed","pageTitle","submitText","buttonText","methods","handleCancelClick","history","params","id","initialiseMovieForm","loadActors","ApiService","response","loadMovie","console","movies","get","saveMovie","update","create","setTimeout","addActor","e","removeActor"],"sourceRoot":"src/components/movies","sources":["MovieSingle.vue"],"sourcesContent":["<template>\n  <div>\n    <template v-if=\"isLoading\">\n      <LoadingAnimation />\n    </template>\n    <template v-else-if=\"error\">\n      <div class=\"alert alert-warning\">\n        {{ error }}\n      </div>\n    </template>\n    <template v-else>\n      <div>\n        <router-link\n          class=\"btn btn-sm btn-outline-secondary me-4\"\n          :to=\"{ name: 'app_movies_list' }\"\n        >\n          <i class=\"bi-arrow-left\"></i> Back to Movies\n        </router-link>\n      </div>\n      <div class=\"d-flex align-items-center py-4 border-bottom\">\n        <h3 class=\"mb-0 me-4\">{{ pageTitle }}</h3>\n      </div>\n      <div class=\"mt-2\">\n        <BForm>\n          <div class=\"row\">\n            <div class=\"col col-4\">\n              <label class=\"form-label\">Movie Title</label>\n              <BFormInput v-model=\"movieData.title\"></BFormInput>\n            </div>\n            <div class=\"col col-3\">\n              <label class=\"form-label\">Movie Release Date</label>\n              <BFormDatepicker\n                class=\"form-control\"\n                v-model=\"movieData.release_date\"\n              ></BFormDatepicker>\n            </div>\n          </div>\n          <div class=\"row mt-3 mb-4\">\n            <div class=\"col col-4\">\n              <label class=\"form-label\">Movie Cast</label>\n              <Multiselect\n                style=\"min-width: 350px\"\n                v-model=\"selectedActors\"\n                placeholder=\"Select cast members\"\n                :options=\"actors\"\n                :multiple=\"true\"\n                :searchable=\"true\"\n                @select=\"addActor\"\n                @remove=\"removeActor\"\n                track-by=\"id\"\n                label=\"name\"\n              />\n            </div>\n            <div class=\"col col-4\">\n              <label class=\"form-label\">Movie Poster Link</label>\n              <BFormInput\n                v-model=\"movieData.image\"\n                placeholder=\"http://...\"\n              ></BFormInput>\n            </div>\n          </div>\n\n          <button class=\"btn btn-primary mt-3\" @click.prevent=\"saveMovie\">\n            <span>{{ submitText }}</span>\n          </button>\n\n          <button\n            class=\"btn btn-outline-secondary mt-3 ms-3\"\n            @click.prevent=\"handleCancelClick\"\n          >\n            Cancel\n          </button>\n        </BForm>\n      </div>\n    </template>\n  </div>\n</template>\n<script>\nimport { BForm, BFormDatepicker, BFormInput } from \"bootstrap-vue\";\nimport { ApiService } from \"@/api\";\nimport Multiselect from \"vue-multiselect\";\nimport { LoadingAnimation } from \"@/components/shared\";\n\nexport default {\n  name: \"MovieSingle\",\n  data() {\n    return {\n      movieData: null,\n      actors: [],\n      isLoading: true,\n      error: null,\n      selectedActors: [],\n    };\n  },\n  created() {\n    if (this.$route.name.startsWith(\"app_movies_new\")) {\n      this.isLoading = false;\n      this.movieData = {\n        title: null,\n        release_date: null,\n        image: null,\n        actors: [],\n      };\n    }\n\n    this.initialiseMovieForm();\n  },\n  components: {\n    BForm,\n    BFormInput,\n    BFormDatepicker,\n    Multiselect,\n    LoadingAnimation,\n  },\n  computed: {\n    pageTitle() {\n      if (this.isLoading) {\n        return \"\";\n      } else if (this.$route.params.id && !this.isLoading && this.movieData) {\n        return \"Edit \" + this.movieData.title;\n      } else {\n        return \"New Movie\";\n      }\n    },\n    submitText() {\n      let buttonText;\n      switch (this.$route.name) {\n        case \"app_movies_new\":\n          this.saving\n            ? (buttonText = \"Adding Movie\")\n            : (buttonText = \"Save Movie\");\n          break;\n        case \"app_movies_edit\":\n          this.saving\n            ? (buttonText = \"Updating Movie\")\n            : (buttonText = \"Update Movie\");\n          break;\n      }\n      return buttonText;\n    },\n  },\n  methods: {\n    handleCancelClick() {\n      if (history.length) {\n        history.go(-1);\n      } else if (this.$route.params.id) {\n        this.$router.push({\n          name: \"app_movies_view\",\n          params: { id: this.movieData.id },\n        });\n      } else {\n        this.$router.push({\n          name: \"app_movies_list\",\n        });\n      }\n    },\n    initialiseMovieForm() {\n      this.isLoading = true;\n      if (this.$route.name.startsWith(\"app_movies_edit\")) {\n        this.loadMovie();\n      }\n      this.loadActors();\n      this.isLoading = false;\n    },\n    async loadActors() {\n      const response = await ApiService.getInstance().actors().getAll(-1);\n      if (response.success) {\n        this.actors = response.data;\n      } else {\n        this.error = \"Failed to load actors\";\n      }\n    },\n    async loadMovie() {\n      console.log(\"fetching movie\");\n      const response = await ApiService.getInstance()\n        .movies()\n        .get(this.$route.params.id);\n      if (response.success) {\n        const movieData = response.data;\n        this.selectedActors = movieData.cast;\n        movieData.actors = [];\n        movieData.cast.forEach((v) => {\n          movieData.actors.push(v.id);\n        });\n        movieData.cast = [];\n        // movieData.cast.remove();\n        this.movieData = movieData;\n      } else {\n        this.error = \"Failed to load movie\";\n      }\n    },\n    async saveMovie() {\n      this.saving = true;\n\n      let response;\n\n      if (this.$route.params.id) {\n        response = await ApiService.getInstance()\n          .movies()\n          .update(this.$route.params.id, this.movieData);\n      } else {\n        response = await ApiService.getInstance()\n          .movies()\n          .create(this.movieData);\n      }\n\n      if (response.success) {\n        await this.$router.push({ name: \"app_movies_list\" });\n        this.error = null;\n      } else {\n        if (this.$route.params.id) {\n          this.error = \"Error when updating actor\";\n        } else {\n          this.error = \"Error when saving actor\";\n        }\n      }\n\n      setTimeout(() => {\n        this.saving = false;\n      }, 2000);\n    },\n    addActor(e) {\n      console.log(\"selection\", e.id);\n      this.movieData.actors.push(e.id);\n    },\n    removeActor(e) {\n      console.log(\"remove\", e.id);\n      this.movieData.actors = this.movieData.actors.filter((v) => v !== e.id);\n    },\n  },\n};\n</script>\n"]}]}