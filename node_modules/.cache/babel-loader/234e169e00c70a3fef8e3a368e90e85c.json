{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/movies/MovieSingle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/movies/MovieSingle.vue","mtime":1652735899682},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQkZvcm0sIEJGb3JtSW5wdXQsIEJGb3JtU2VsZWN0LCBCRm9ybURhdGVwaWNrZXIgfSBmcm9tICJib290c3RyYXAtdnVlIjsKaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNb3ZpZVNpbmdsZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vdmllRGF0YTogbnVsbCwKICAgICAgYWN0b3JzOiBbXSwKICAgICAgaXNMb2FkaW5nOiB0cnVlLAogICAgICBlcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUubmFtZS5zdGFydHNXaXRoKCJhcHBfbW92aWVzX25ldyIpKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMubW92aWVEYXRhID0gewogICAgICAgIHRpdGxlOiBudWxsLAogICAgICAgIHJlbGVhc2VEYXRlOiBudWxsLAogICAgICAgIGFjdG9yczogW10KICAgICAgfTsKICAgIH0KCiAgICB0aGlzLmluaXRpYWxpc2VNb3ZpZUZvcm0oKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJGb3JtOiBCRm9ybSwKICAgIEJGb3JtSW5wdXQ6IEJGb3JtSW5wdXQsCiAgICBCRm9ybVNlbGVjdDogQkZvcm1TZWxlY3QsCiAgICBCRm9ybURhdGVwaWNrZXI6IEJGb3JtRGF0ZXBpY2tlcgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VUaXRsZTogZnVuY3Rpb24gcGFnZVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLmlkID8gIkVkaXQgIiArIHRoaXMubW92aWVEYXRhLm5hbWUgOiAiTmV3IE1vdmllIjsKICAgIH0sCiAgICBzdWJtaXRUZXh0OiBmdW5jdGlvbiBzdWJtaXRUZXh0KCkgewogICAgICB2YXIgYnV0dG9uVGV4dDsKCiAgICAgIHN3aXRjaCAodGhpcy4kcm91dGUubmFtZSkgewogICAgICAgIGNhc2UgImFwcF9tb3ZpZXNfbmV3IjoKICAgICAgICAgIHRoaXMuc2F2aW5nID8gYnV0dG9uVGV4dCA9ICJBZGRpbmcgTW92aWUiIDogYnV0dG9uVGV4dCA9ICJTYXZlIE1vdmllIjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJhcHBfbW92aWVzX2VkaXQiOgogICAgICAgICAgdGhpcy5zYXZpbmcgPyBidXR0b25UZXh0ID0gIlVwZGF0aW5nIE1vdmllIiA6IGJ1dHRvblRleHQgPSAiVXBkYXRlIE1vdmllIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICByZXR1cm4gYnV0dG9uVGV4dDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRpYWxpc2VNb3ZpZUZvcm06IGZ1bmN0aW9uIGluaXRpYWxpc2VNb3ZpZUZvcm0oKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lLnN0YXJ0c1dpdGgoImFwcF9tb3ZpZXNfbmV3IikpIHsKICAgICAgICB0aGlzLmxvYWRNb3ZpZSgpOwogICAgICB9CgogICAgICB0aGlzLmxvYWRBY3RvcnMoKTsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBsb2FkQWN0b3JzOiBmdW5jdGlvbiBsb2FkQWN0b3JzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGFjdG9yczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0b3JzKCkuZ2V0QWxsKC0xKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIGFjdG9ycyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIGFjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChhY3RvcikgewogICAgICAgICAgICAgICAgICAgIHZhciBhY3Rvck9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGFjdG9yLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYWN0b3IuaWQKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RvcnMucHVzaChhY3Rvck9iamVjdCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSAiRmFpbGVkIHRvIGxvYWQgYWN0b3JzIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRNb3ZpZTogZnVuY3Rpb24gbG9hZE1vdmllKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3RvcnMoKS5nZXQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5tb3ZpZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yID0gIkZhaWxlZCB0byBsb2FkIGFjdG9yIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZU1vdmllOiBmdW5jdGlvbiBzYXZlTW92aWUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuc2F2aW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3RvcnMoKS51cGRhdGUoX3RoaXMzLiRyb3V0ZS5wYXJhbXMsIF90aGlzMy5tb3ZpZURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdG9ycygpLmNyZWF0ZShfdGhpczMubW92aWVEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2FjdG9yc19saXN0IgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfdGhpczMuZXJyb3IgPSBudWxsOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvciA9ICJFcnJvciB3aGVuIHVwZGF0aW5nIGFjdG9yIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5lcnJvciA9ICJFcnJvciB3aGVuIHNhdmluZyBhY3RvciI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnNhdmluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AAEA;EACAA,mBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,eADA;MAEAC,UAFA;MAGAC,eAHA;MAIAC;IAJA;EAMA,CATA;EAUAC,OAVA,qBAUA;IACA;MACA;MACA;QACAC,WADA;QAEAC,iBAFA;QAGAL;MAHA;IAKA;;IAEA;EACA,CArBA;EAsBAM;IACAC,YADA;IAEAC,sBAFA;IAGAC,wBAHA;IAIAC;EAJA,CAtBA;EA4BAC;IACAC,SADA,uBACA;MACA,+BACA,6BADA,GAEA,WAFA;IAGA,CALA;IAMAC,UANA,wBAMA;MACA;;MACA;QACA;UACA,cACAC,2BADA,GAEAA,yBAFA;UAGA;;QACA;UACA,cACAA,6BADA,GAEAA,2BAFA;UAGA;MAVA;;MAYA;IACA;EArBA,CA5BA;EAmDAC;IACAC,mBADA,iCACA;MACA;;MACA;QACA;MACA;;MACA;MACA;IACA,CARA;IASAC,UATA,wBASA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,4CADA;;cAAA;gBACAC,QADA;;gBAEA;kBACAnB,MADA,GACAmB,aADA;kBAEAnB;oBACA;sBAAAoB;sBAAAC;oBAAA;;oBACA;kBACA,CAHA;gBAIA,CANA,MAMA;kBACA;gBACA;;cAVA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA,CApBA;IAqBAC,SArBA,uBAqBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAJ,yBACAlB,MADA,GAEAuB,GAFA,CAEA,uBAFA,CADA;;cAAA;gBACAJ,QADA;;gBAIA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;cARA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CA9BA;IA+BAK,SA/BA,uBA+BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;;gBADA,KAKA,uBALA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAMAN,yBACAlB,MADA,GAEAyB,MAFA,CAEA,oBAFA,EAEA,gBAFA,CANA;;cAAA;gBAMAN,QANA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAUAD,yBACAlB,MADA,GAEA0B,MAFA,CAEA,gBAFA,CAVA;;cAAA;gBAUAP,QAVA;;cAAA;gBAAA,KAeAA,gBAfA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAgBA;kBAAAtB;gBAAA,EAhBA;;cAAA;gBAiBA;gBAjBA;gBAAA;;cAAA;gBAmBA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;cAvBA;gBA0BA8B;kBACA;gBACA,CAFA,EAEA,IAFA;;cA1BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA6BA;EA5DA;AAnDA","names":["name","data","movieData","actors","isLoading","error","created","title","releaseDate","components","BForm","BFormInput","BFormSelect","BFormDatepicker","computed","pageTitle","submitText","buttonText","methods","initialiseMovieForm","loadActors","ApiService","response","text","value","loadMovie","get","saveMovie","update","create","setTimeout"],"sourceRoot":"src/components/movies","sources":["MovieSingle.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"d-flex align-items-center py-4 border-bottom\">\n      <h3 class=\"mb-0 me-4\">{{ pageTitle }}</h3>\n    </div>\n    <div class=\"mt-2\">\n      <div class=\"alert alert-warning\" v-if=\"error\">\n        {{ error }}\n      </div>\n      <BForm>\n        <div class=\"row\">\n          <div class=\"col col-auto\">\n            <BFormInput\n              v-model=\"movieData.title\"\n              placeholder=\"Movie Title\"\n            ></BFormInput>\n          </div>\n          <div class=\"col col-auto\">\n            <BFormDatepicker\n              class=\"form-control\"\n              v-model=\"movieData.releaseDate\"\n            ></BFormDatepicker>\n          </div>\n          <div class=\"col col-auto\">\n            <BFormSelect\n              class=\"form-select\"\n              v-model=\"movieData.actors\"\n              :options=\"actors\"\n            />\n          </div>\n        </div>\n\n        <button class=\"btn btn-primary mt-3\" @click.prevent=\"saveMovie\">\n          <span>{{ submitText }}</span>\n        </button>\n      </BForm>\n    </div>\n  </div>\n</template>\n<script>\nimport { BForm, BFormInput, BFormSelect, BFormDatepicker } from \"bootstrap-vue\";\nimport { ApiService } from \"@/api\";\n\nexport default {\n  name: \"MovieSingle\",\n  data() {\n    return {\n      movieData: null,\n      actors: [],\n      isLoading: true,\n      error: null,\n    };\n  },\n  created() {\n    if (this.$route.name.startsWith(\"app_movies_new\")) {\n      this.isLoading = false;\n      this.movieData = {\n        title: null,\n        releaseDate: null,\n        actors: [],\n      };\n    }\n\n    this.initialiseMovieForm();\n  },\n  components: {\n    BForm,\n    BFormInput,\n    BFormSelect,\n    BFormDatepicker,\n  },\n  computed: {\n    pageTitle() {\n      return this.$route.params.id\n        ? \"Edit \" + this.movieData.name\n        : \"New Movie\";\n    },\n    submitText() {\n      let buttonText;\n      switch (this.$route.name) {\n        case \"app_movies_new\":\n          this.saving\n            ? (buttonText = \"Adding Movie\")\n            : (buttonText = \"Save Movie\");\n          break;\n        case \"app_movies_edit\":\n          this.saving\n            ? (buttonText = \"Updating Movie\")\n            : (buttonText = \"Update Movie\");\n          break;\n      }\n      return buttonText;\n    },\n  },\n  methods: {\n    initialiseMovieForm() {\n      this.isLoading = true;\n      if (this.$route.name.startsWith(\"app_movies_new\")) {\n        this.loadMovie();\n      }\n      this.loadActors();\n      this.isLoading = false;\n    },\n    async loadActors() {\n      const response = await ApiService.getInstance().actors().getAll(-1);\n      if (response.success) {\n        const actors = response.data;\n        actors.forEach((actor) => {\n          const actorObject = { text: actor.name, value: actor.id };\n          this.actors.push(actorObject);\n        });\n      } else {\n        this.error = \"Failed to load actors\";\n      }\n    },\n    async loadMovie() {\n      const response = await ApiService.getInstance()\n        .actors()\n        .get(this.$route.params.id);\n      if (response.success) {\n        this.movieData = response.data;\n      } else {\n        this.error = \"Failed to load actor\";\n      }\n    },\n    async saveMovie() {\n      this.saving = true;\n\n      let response;\n\n      if (this.$route.params.id) {\n        response = await ApiService.getInstance()\n          .actors()\n          .update(this.$route.params, this.movieData);\n      } else {\n        response = await ApiService.getInstance()\n          .actors()\n          .create(this.movieData);\n      }\n\n      if (response.success) {\n        await this.$router.push({ name: \"app_actors_list\" });\n        this.error = null;\n      } else {\n        if (this.$route.params.id) {\n          this.error = \"Error when updating actor\";\n        } else {\n          this.error = \"Error when saving actor\";\n        }\n      }\n\n      setTimeout(() => {\n        this.saving = false;\n      }, 2000);\n    },\n  },\n};\n</script>\n"]}]}