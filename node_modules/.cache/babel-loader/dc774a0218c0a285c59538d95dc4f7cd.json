{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/actors/ActorSingle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/actors/ActorSingle.vue","mtime":1654080876341},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZW5kZXJzIH0gZnJvbSAiQC9jb25zdCI7CmltcG9ydCB7IEJGb3JtLCBCRm9ybUlucHV0LCBCRm9ybVNlbGVjdCB9IGZyb20gImJvb3RzdHJhcC12dWUiOwppbXBvcnQgeyBBcGlTZXJ2aWNlIH0gZnJvbSAiQC9hcGkiOwppbXBvcnQgeyBMb2FkaW5nQW5pbWF0aW9uIH0gZnJvbSAiQC9jb21wb25lbnRzL3NoYXJlZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWN0b3JTaW5nbGUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RvckRhdGE6IG51bGwsCiAgICAgIGdlbmRlcnM6IGdlbmRlcnMsCiAgICAgIGlzTG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUuc3RhcnRzV2l0aCgiYXBwX2FjdG9yc19uZXciKSkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLmFjdG9yRGF0YSA9IHsKICAgICAgICBuYW1lOiBudWxsLAogICAgICAgIGFnZTogbnVsbCwKICAgICAgICBnZW5kZXI6IG51bGwsCiAgICAgICAgaW1hZ2U6IG51bGwKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubG9hZEFjdG9yKCk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBCRm9ybTogQkZvcm0sCiAgICBCRm9ybUlucHV0OiBCRm9ybUlucHV0LAogICAgQkZvcm1TZWxlY3Q6IEJGb3JtU2VsZWN0LAogICAgTG9hZGluZ0FuaW1hdGlvbjogTG9hZGluZ0FuaW1hdGlvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VUaXRsZTogZnVuY3Rpb24gcGFnZVRpdGxlKCkgewogICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkICYmICF0aGlzLmlzTG9hZGluZyAmJiB0aGlzLmFjdG9yRGF0YSkgewogICAgICAgIHJldHVybiAiRWRpdCAiICsgdGhpcy5hY3RvckRhdGEubmFtZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIk5ldyBNb3ZpZSI7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNhbmNlbENsaWNrOiBmdW5jdGlvbiBoYW5kbGVDYW5jZWxDbGljaygpIHsKICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoKSB7CiAgICAgICAgaGlzdG9yeS5nbygtMSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImFwcF9hY3RvcnNfdmlldyIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaWQ6IHRoaXMuYWN0b3JEYXRhLmlkCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImFwcF9hY3RvcnNfbGlzdCIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvYWRBY3RvcjogZnVuY3Rpb24gbG9hZEFjdG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3RvcnMoKS5nZXQoX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfdGhpcy5hY3RvckRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSAiRmFpbGVkIHRvIGxvYWQgYWN0b3IiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2F2ZUFjdG9yOiBmdW5jdGlvbiBzYXZlQWN0b3IoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuc2F2aW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3RvcnMoKS51cGRhdGUoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQsIF90aGlzMi5hY3RvckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdG9ycygpLmNyZWF0ZShfdGhpczIuYWN0b3JEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2FjdG9yc192aWV3IiwKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmlkID8gcmVzcG9uc2UuaWQgOiBfdGhpczIuYWN0b3JEYXRhLmlkCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yID0gbnVsbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSAiRXJyb3Igd2hlbiB1cGRhdGluZyBhY3RvciI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSAiRXJyb3Igd2hlbiBzYXZpbmcgYWN0b3IiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zYXZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AAEA;EACAA,mBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,eADA;MAEAC,gBAFA;MAGAC,eAHA;MAIAC;IAJA;EAMA,CATA;EAUAC,OAVA,qBAUA;IACA;MACA;MACA;QACAN,UADA;QAEAO,SAFA;QAGAC,YAHA;QAIAC;MAJA;IAMA,CARA,MAQA;MACA;IACA;EACA,CAtBA;EAuBAC;IACAC,YADA;IAEAC,sBAFA;IAGAC,wBAHA;IAIAC;EAJA,CAvBA;EA6BAC;IACAC,SADA,uBACA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;EATA,CA7BA;EAwCAC;IACAC,iBADA,+BACA;MACA;QACAC;MACA,CAFA,MAEA;QACA;UACAnB,uBADA;UAEAoB;YAAAC;UAAA;QAFA;MAIA,CALA,MAKA;QACA;UACArB;QADA;MAGA;IACA,CAdA;IAeAsB,SAfA,uBAeA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBADA;gBAAA,OAEAC,yBACAC,MADA,GAEAC,GAFA,CAEA,sBAFA,CAFA;;cAAA;gBAEAC,QAFA;;gBAKA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;gBACA;;cAVA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA,CA1BA;IA2BAC,SA3BA,uBA2BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;;gBADA,KAKA,uBALA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAMAJ,yBACAC,MADA,GAEAI,MAFA,CAEA,uBAFA,EAEA,gBAFA,CANA;;cAAA;gBAMAF,QANA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAUAH,yBACAC,MADA,GAEAK,MAFA,CAEA,gBAFA,CAVA;;cAAA;gBAUAH,QAVA;;cAAA;gBAAA,KAeAA,gBAfA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAgBA;kBACA1B,uBADA;kBAEAoB;oBAAAC;kBAAA;gBAFA,EAhBA;;cAAA;gBAoBA;gBApBA;gBAAA;;cAAA;gBAsBA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;cA1BA;gBA6BAS;kBACA;gBACA,CAFA,EAEA,GAFA;;cA7BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAgCA;EA3DA;AAxCA","names":["name","data","actorData","genders","isLoading","error","created","age","gender","image","components","BForm","BFormInput","BFormSelect","LoadingAnimation","computed","pageTitle","methods","handleCancelClick","history","params","id","loadActor","ApiService","actors","get","response","saveActor","update","create","setTimeout"],"sourceRoot":"src/components/actors","sources":["ActorSingle.vue"],"sourcesContent":["<template>\n  <div>\n    <div>\n      <router-link\n        class=\"btn btn-sm btn-outline-secondary me-4\"\n        :to=\"{ name: 'app_actors_list' }\"\n      >\n        <i class=\"bi-arrow-left\"></i> Back to Actors\n      </router-link>\n    </div>\n    <div class=\"d-flex align-items-center py-4 border-bottom\">\n      <h3 class=\"mb-0 me-4\">{{ pageTitle }}</h3>\n    </div>\n    <div class=\"mt-2\">\n      <template v-if=\"isLoading\">\n        <LoadingAnimation />\n      </template>\n      <template v-else-if=\"error\">\n        <div class=\"alert alert-warning\">\n          {{ error }}\n        </div>\n      </template>\n      <template v-else>\n        <BForm>\n          <div class=\"row\">\n            <div class=\"col col-auto\">\n              <label class=\"form-label\">Full Name</label>\n              <BFormInput v-model=\"actorData.name\"></BFormInput>\n            </div>\n            <div class=\"col col-auto\">\n              <label class=\"form-label\">Age</label>\n              <BFormInput v-model=\"actorData.age\" type=\"number\"></BFormInput>\n            </div>\n            <div class=\"col col-auto\">\n              <label class=\"form-label\">Select Gender</label>\n              <BFormSelect\n                class=\"form-select\"\n                v-model=\"actorData.gender\"\n                :options=\"genders\"\n              />\n            </div>\n            <div class=\"col col-auto\">\n              <label class=\"form-label\">Profile Picture Link</label>\n              <BFormInput\n                v-model=\"actorData.image\"\n                placeholder=\"http://....\"\n                type=\"text\"\n              ></BFormInput>\n            </div>\n          </div>\n\n          <button class=\"btn btn-primary mt-3\" @click.prevent=\"saveActor\">\n            <span>Save Actor</span>\n          </button>\n\n          <button\n            class=\"btn btn-outline-secondary mt-3 ms-3\"\n            @click.prevent=\"handleCancelClick\"\n          >\n            Cancel\n          </button>\n        </BForm>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport { genders } from \"@/const\";\nimport { BForm, BFormInput, BFormSelect } from \"bootstrap-vue\";\nimport { ApiService } from \"@/api\";\nimport { LoadingAnimation } from \"@/components/shared\";\n\nexport default {\n  name: \"ActorSingle\",\n  data() {\n    return {\n      actorData: null,\n      genders: genders,\n      isLoading: true,\n      error: null,\n    };\n  },\n  created() {\n    if (this.$route.name.startsWith(\"app_actors_new\")) {\n      this.isLoading = false;\n      this.actorData = {\n        name: null,\n        age: null,\n        gender: null,\n        image: null,\n      };\n    } else {\n      this.loadActor();\n    }\n  },\n  components: {\n    BForm,\n    BFormInput,\n    BFormSelect,\n    LoadingAnimation,\n  },\n  computed: {\n    pageTitle() {\n      if (this.isLoading) {\n        return \"\";\n      } else if (this.$route.params.id && !this.isLoading && this.actorData) {\n        return \"Edit \" + this.actorData.name;\n      } else {\n        return \"New Movie\";\n      }\n    },\n  },\n  methods: {\n    handleCancelClick() {\n      if (history.length) {\n        history.go(-1);\n      } else if (this.$route.params.id) {\n        this.$router.push({\n          name: \"app_actors_view\",\n          params: { id: this.actorData.id },\n        });\n      } else {\n        this.$router.push({\n          name: \"app_actors_list\",\n        });\n      }\n    },\n    async loadActor() {\n      this.isLoading = true;\n      const response = await ApiService.getInstance()\n        .actors()\n        .get(this.$route.params.id);\n      if (response.success) {\n        this.actorData = response.data;\n      } else {\n        this.error = \"Failed to load actor\";\n      }\n      this.isLoading = false;\n    },\n    async saveActor() {\n      this.saving = true;\n\n      let response;\n\n      if (this.$route.params.id) {\n        response = await ApiService.getInstance()\n          .actors()\n          .update(this.$route.params.id, this.actorData);\n      } else {\n        response = await ApiService.getInstance()\n          .actors()\n          .create(this.actorData);\n      }\n\n      if (response.success) {\n        await this.$router.push({\n          name: \"app_actors_view\",\n          params: { id: response.id ? response.id : this.actorData.id },\n        });\n        this.error = null;\n      } else {\n        if (this.$route.params.id) {\n          this.error = \"Error when updating actor\";\n        } else {\n          this.error = \"Error when saving actor\";\n        }\n      }\n\n      setTimeout(() => {\n        this.saving = false;\n      }, 500);\n    },\n  },\n};\n</script>\n"]}]}