{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue","mtime":1652904444453},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY2Vzc1Rva2VuOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkgewogICAgICByZXR1cm4gdGhpcy4kYXV0aC5pc0F1dGhlbnRpY2F0ZWQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaXNBdXRoZW50aWNhdGVkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHZhciB0b2tlbiwgdXNlciwgcmVsb2FkZWRQYXRoOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImF1dGhlbnRpY2F0ZWQgY2hhbmdlZCIpOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHRva2VuID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgdXNlciA9IF90aGlzLiRhdXRoLnVzZXI7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFjY2Vzc1Rva2VuID0gdG9rZW47CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0b2tlbiIsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImp3dCIsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRBY2Nlc3NUb2tlbiIsIHRva2VuKTsKCiAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEF1dGhVc2VyIiwgdXNlcik7CgogICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgcmVsb2FkZWRQYXRoID0gX3RoaXMuJHN0b3JlLmdldHRlcnNbImdldFJlbG9hZGVkUGF0aCJdOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygpOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuJHN0b3JlLmdldHRlcnNbImdldElzUmVsb2FkZWQiXSAmJiByZWxvYWRlZFBhdGggIT09ICIvIikpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjb3VudHMgYXMgcmVsb2FkIik7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogcmVsb2FkZWRQYXRoCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2Rhc2hib2FyZCIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRJc1JlbG9hZGVkIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0UmVsb2FkZWRQYXRoIiwgbnVsbCk7CgogICAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSkoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8gTG9nIHRoZSB1c2VyIGluCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJqd3QiLCAidGVzdCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXV0aC5sb2dpbldpdGhQb3B1cCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldFRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgdG9rZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGF1dGguZ2V0VG9rZW5TaWxlbnRseSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0b2tlbiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImp3dCIsIF90aGlzMy50b2tlbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgic2V0QWNjZXNzVG9rZW4iLCB0b2tlbik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMy5hY2Nlc3NUb2tlbiA9IHRva2VuOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2Rhc2hib2FyZCIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBMb2cgdGhlIHVzZXIgb3V0CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kYXV0aC5sb2dvdXQoewogICAgICAgIHJldHVyblRvOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luCiAgICAgIH0pOwogICAgfSwKICAgIGNhbGxBcGk6IGZ1bmN0aW9uIGNhbGxBcGkoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIC8vIC8vIFVzZSBBeGlvcyB0byBtYWtlIGEgY2FsbCB0byB0aGUgQVBJCiAgICAgICAgICAgICAgICAvLyBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldChkb21haW4sIHsKICAgICAgICAgICAgICAgIC8vICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgLy8gICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgPCU9ICIke3Rva2VufSIgJT5gLCAvLyBzZW5kIHRoZSBhY2Nlc3MgdG9rZW4gdGhyb3VnaCB0aGUgJ0F1dGhvcml6YXRpb24nIGhlYWRlcgogICAgICAgICAgICAgICAgLy8gICB9LAogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;EACAA,aADA;EAEAC,IAFA,kBAEA;IACA;MACAC;IADA;EAGA,CANA;EAOAC;IACAC,eADA,6BACA;MACA;IACA;EAHA,CAPA;EAYAC;IACAD;MACAE,OADA,mBACAC,GADA,EACA;QAAA;;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAA,GADA;oBAAA;oBAAA;kBAAA;;kBAEAC;kBAFA;kBAAA,OAGA,8BAHA;;gBAAA;kBAGAC,KAHA;kBAIAC,IAJA,GAIA,gBAJA;kBAKA;kBACAF;kBACAG;kBAPA;kBAAA,OAQA,8CARA;;gBAAA;kBAAA;kBAAA,OASA,0CATA;;gBAAA;kBAUAC,YAVA,GAUA,uCAVA;kBAWAJ;;kBAXA,MAYA,6DAZA;oBAAA;oBAAA;kBAAA;;kBAaAA;kBAbA;kBAAA,OAcA;oBAAAK;kBAAA,EAdA;;gBAAA;kBAAA;kBAAA;;gBAAA;kBAAA;kBAAA,OAgBA;oBAAAb;kBAAA,EAhBA;;gBAAA;kBAAA;kBAAA,OAkBA,6CAlBA;;gBAAA;kBAAA;kBAAA,OAmBA,8CAnBA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAqBA;IAtBA;EADA,CAZA;EAsCAc;IACA;IACAC,KAFA,mBAEA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAJ;gBADA;gBAAA,OAEA,6BAFA;;cAAA;gBAAA;gBAAA,OAGA,iBAHA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CANA;IAOAK,QAPA,sBAOA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,+BADA;;cAAA;gBACAP,KADA;gBAEAE;gBAFA;gBAAA,OAGA,+CAHA;;cAAA;gBAIA;gBAJA;gBAAA,OAKA;kBAAAX;gBAAA,EALA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMA,CAbA;IAcA;IACAiB,MAfA,oBAeA;MACA;QACAC;MADA;IAGA,CAnBA;IAoBAC,OApBA,qBAoBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEA,+BAFA;;cAAA;gBAEAV,KAFA;gBAIA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAEAD;;cAXA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYA;EAhCA;AAtCA","names":["name","data","accessToken","computed","isAuthenticated","watch","handler","val","console","token","user","localStorage","reloadedPath","path","methods","login","getToken","logout","returnTo","callApi"],"sourceRoot":"src/components/security","sources":["Login.vue"],"sourcesContent":["<template>\n  <section\n    class=\"h-100 w-100 position-absolute bg-light\"\n    style=\"left: 0; top: 0\"\n  >\n    <div class=\"h-100 w-100 d-flex justify-content-center align-items-center\">\n      <div class=\"card p-4 shadow-sm\">\n        <div\n          class=\"card-body d-flex align-items-center justify-content-center flex-column\"\n        >\n          <h2 class=\"fs-3\">Casting Agency Login</h2>\n          <div v-if=\"!$auth.loading\">\n            <p\n              v-if=\"!$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              Please click the button below to login\n            </p>\n            <p\n              v-if=\"$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              You are logged in! <br />\n              Click the button below to logout.\n            </p>\n          </div>\n          <div>\n            <!-- show login when not authenticated -->\n            <div class=\"w-100 d-flex justify-content-center\">\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"!$auth.isAuthenticated\"\n                @click=\"login\"\n                :disabled=\"$auth.loading\"\n              >\n                <span v-if=\"!$auth.loading\">Log in</span>\n                <span v-if=\"$auth.loading\">\n                  Authenticating\n                  <span\n                    class=\"spinner-border text-white\"\n                    style=\"width: 1.2rem; height: 1.2rem\"\n                    role=\"status\"\n                  ></span>\n                </span>\n              </button>\n              <!-- show logout when authenticated -->\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"$auth.isAuthenticated\"\n                @click=\"logout\"\n              >\n                Log out\n              </button>\n            </div>\n\n            <div\n              v-if=\"$auth.isAuthenticated\"\n              class=\"w-100 d-flex justify-content-center\"\n            >\n              <button\n                class=\"btn btn-sm btn-outline-secondary mt-4\"\n                @click=\"getToken\"\n                :disabled=\"accessToken\"\n              >\n                <span v-if=\"accessToken\">Token Saved!</span>\n                <span v-else>Get Token</span>\n              </button>\n            </div>\n          </div>\n          <div v-if=\"$auth.error\">\n            {{ $auth.error }}\n          </div>\n          <!--          <div class=\"text-center mt-3\" style=\"max-width: 300px\">-->\n          <!--            <pre>-->\n          <!--              <code>{{ token }}</code>-->\n          <!--            </pre>-->\n          <!--          </div>-->\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      accessToken: null,\n    };\n  },\n  computed: {\n    isAuthenticated() {\n      return this.$auth.isAuthenticated;\n    },\n  },\n  watch: {\n    isAuthenticated: {\n      async handler(val) {\n        if (val) {\n          console.log(\"authenticated changed\");\n          const token = await this.$auth.getTokenSilently();\n          const user = this.$auth.user;\n          this.accessToken = token;\n          console.log(\"token\", token);\n          localStorage.setItem(\"jwt\", token);\n          await this.$store.dispatch(\"setAccessToken\", token);\n          await this.$store.dispatch(\"setAuthUser\", user);\n          const reloadedPath = this.$store.getters[\"getReloadedPath\"];\n          console.log();\n          if (this.$store.getters[\"getIsReloaded\"] && reloadedPath !== \"/\") {\n            console.log(\"counts as reload\");\n            await this.$router.push({ path: reloadedPath });\n          } else {\n            await this.$router.push({ name: \"app_dashboard\" });\n          }\n          await this.$store.dispatch(\"setIsReloaded\", false);\n          await this.$store.dispatch(\"setReloadedPath\", null);\n        }\n      },\n    },\n  },\n  methods: {\n    // Log the user in\n    async login() {\n      localStorage.setItem(\"jwt\", \"test\");\n      await this.$auth.loginWithPopup();\n      await this.getToken();\n    },\n    async getToken() {\n      const token = await this.$auth.getTokenSilently();\n      localStorage.setItem(\"jwt\", this.token);\n      await this.$store.dispatch(\"setAccessToken\", token);\n      this.accessToken = token;\n      await this.$router.push({ name: \"app_dashboard\" });\n    },\n    // Log the user out\n    logout() {\n      this.$auth.logout({\n        returnTo: window.location.origin,\n      });\n    },\n    async callApi() {\n      // Get the access token from the auth wrapper\n      const token = await this.$auth.getTokenSilently();\n\n      // // Use Axios to make a call to the API\n      // const { data } = await axios.get(domain, {\n      //   headers: {\n      //     Authorization: `Bearer <%= \"${token}\" %>`, // send the access token through the 'Authorization' header\n      //   },\n      // });\n\n      console.log(token);\n    },\n  },\n};\n</script>\n"]}]}