{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/actors/ActorView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/actors/ActorView.vue","mtime":1654944867924},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gIkAvYXBpIjsKaW1wb3J0IHsgTG9hZGluZ0FuaW1hdGlvbiB9IGZyb20gIkAvY29tcG9uZW50cy9zaGFyZWQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFjdG9yU2luZ2xlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0b3JEYXRhOiBudWxsLAogICAgICBpc0xvYWRpbmc6IHRydWUsCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ0FuaW1hdGlvbjogTG9hZGluZ0FuaW1hdGlvbgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lLnN0YXJ0c1dpdGgoImFwcF9hY3RvcnNfbmV3IikpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5hY3RvckRhdGEgPSB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBhZ2U6IG51bGwsCiAgICAgICAgZ2VuZGVyOiBudWxsCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB0aGlzLmxvYWRBY3RvcigpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpcnN0TmFtZTogZnVuY3Rpb24gZmlyc3ROYW1lKCkgewogICAgICB2YXIgbmFtZXMgPSB0aGlzLmFjdG9yRGF0YS5uYW1lLnNwbGl0KCIgIik7CiAgICAgIHJldHVybiBuYW1lc1swXTsKICAgIH0sCiAgICBwZXJtaXNzaW9uczogZnVuY3Rpb24gcGVybWlzc2lvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJnZXRQZXJtaXNzaW9ucyJdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRGVsZXRlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdG9ycygpLmRlbGV0ZShfdGhpcy4kcm91dGUucGFyYW1zLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9hY3RvcnNfbGlzdCIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvciA9ICJGYWlsZWQgdG8gZGVsZXRlIGFjdG9yIjsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRBY3RvcjogZnVuY3Rpb24gbG9hZEFjdG9yKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdG9ycygpLmdldChfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFjdG9yRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3IgPSAiRmFpbGVkIHRvIGxvYWQgYWN0b3IiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AAEA;EACAA,mBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,eADA;MAEAC,eAFA;MAGAC;IAHA;EAKA,CARA;EASAC;IACAC;EADA,CATA;EAYAC,OAZA,qBAYA;IACA;MACA;MACA;QACAP,UADA;QAEAQ,SAFA;QAGAC;MAHA;IAKA,CAPA,MAOA;MACA;IACA;EACA,CAvBA;EAwBAC;IACAC,SADA,uBACA;MACA;MACA;IACA,CAJA;IAKAC,WALA,yBAKA;MACA;IACA;EAPA,CAxBA;EAiCAC;IACAC,iBADA,+BACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,yBACAC,MADA,GAEAC,MAFA,CAEA,sBAFA,CADA;;cAAA;gBACAC,QADA;;gBAAA,KAIAA,gBAJA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAKA;kBAAAlB;gBAAA,EALA;;cAAA;gBAAA;gBAAA;;cAAA;gBAOA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CAVA;IAWAmB,SAXA,uBAWA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBADA;gBAAA,OAEAJ,yBACAC,MADA,GAEAI,GAFA,CAEA,uBAFA,CAFA;;cAAA;gBAEAF,QAFA;;gBAKA;kBACA;gBACA,CAFA,MAEA;kBACA;gBACA;;gBACA;;cAVA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA;EAtBA;AAjCA","names":["name","data","actorData","isLoading","error","components","LoadingAnimation","created","age","gender","computed","firstName","permissions","methods","handleDeleteClick","ApiService","actors","delete","response","loadActor","get"],"sourceRoot":"src/components/actors","sources":["ActorView.vue"],"sourcesContent":["<template>\n  <div>\n    <template v-if=\"isLoading\">\n      <LoadingAnimation />\n    </template>\n    <template v-else-if=\"error\">\n      <div class=\"alert alert-warning\" v-if=\"error\">\n        {{ error }}\n      </div>\n    </template>\n    <template v-else>\n      <div>\n        <router-link\n          class=\"btn btn-sm btn-outline-secondary me-4\"\n          :to=\"{ name: 'app_actors_list' }\"\n          ><i class=\"bi-arrow-left\"></i> Back\n        </router-link>\n      </div>\n      <div class=\"d-flex align-items-center py-4 border-bottom\">\n        <h3 class=\"mb-0 me-4\">{{ actorData.name }}</h3>\n        <router-link\n          class=\"btn btn-secondary ms-auto me-2\"\n          v-if=\"permissions.includes('edit:actor')\"\n          :to=\"{ name: 'app_actors_edit', params: { id: actorData.id } }\"\n          >Edit Actor</router-link\n        >\n        <button\n          v-if=\"permissions.includes('delete:actor')\"\n          class=\"btn btn-outline-danger\"\n          @click=\"handleDeleteClick\"\n        >\n          Delete\n        </button>\n      </div>\n      <div class=\"mt-4\">\n        <div class=\"row\">\n          <div class=\"col-auto col-auto\">\n            <template v-if=\"actorData.image\">\n              <img\n                :src=\"actorData.image\"\n                class=\"rounded shadow-sm\"\n                style=\"max-width: 250px\"\n                alt=\"\"\n              />\n            </template>\n            <template v-else>\n              <img\n                src=\"https://via.placeholder.com/150x150\"\n                class=\"rounded shadow-sm\"\n                alt=\"\"\n              />\n            </template>\n          </div>\n          <div class=\"col-auto p-2\">\n            <p class=\"fw-bold mb-1\">Age:</p>\n            <p>{{ actorData.age }}</p>\n            <p class=\"fw-bold mb-1\">Gender:</p>\n            <p>{{ actorData.gender }}</p>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col col-12\">\n            <h5 class=\"mt-5 mb-3\">Actor movie castings</h5>\n            <template v-if=\"actorData.castings && actorData.castings.length\">\n              <table class=\"table\">\n                <thead>\n                  <tr class=\"text-secondary\">\n                    <th>#</th>\n                    <th>Movie</th>\n                    <th>Release Date</th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody class=\"border-1 table-light\">\n                  <template v-for=\"casting in actorData.castings\">\n                    <tr :key=\"casting.id\" class=\"\">\n                      <td class=\"align-middle\"><i class=\"bi-film\"></i></td>\n                      <td class=\"align-middle\">{{ casting.title }}</td>\n                      <td class=\"align-middle\">{{ casting.release_date }}</td>\n                      <td class=\"align-middle\">\n                        <router-link\n                          class=\"btn btn-sm btn-outline-secondary\"\n                          :to=\"{\n                            name: 'app_movies_view',\n                            params: { id: casting.id },\n                          }\"\n                        >\n                          View Movie\n                        </router-link>\n                      </td>\n                    </tr>\n                  </template>\n                </tbody>\n              </table>\n            </template>\n            <template v-else>\n              <p class=\"text-secondary\">\n                This actor is currently not cast in any movies.\n              </p>\n            </template>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n<script>\nimport { ApiService } from \"@/api\";\nimport { LoadingAnimation } from \"@/components/shared\";\n\nexport default {\n  name: \"ActorSingle\",\n  data() {\n    return {\n      actorData: null,\n      isLoading: true,\n      error: null,\n    };\n  },\n  components: {\n    LoadingAnimation,\n  },\n  created() {\n    if (this.$route.name.startsWith(\"app_actors_new\")) {\n      this.isLoading = false;\n      this.actorData = {\n        name: null,\n        age: null,\n        gender: null,\n      };\n    } else {\n      this.loadActor();\n    }\n  },\n  computed: {\n    firstName() {\n      const names = this.actorData.name.split(\" \");\n      return names[0];\n    },\n    permissions() {\n      return this.$store.getters[\"getPermissions\"];\n    },\n  },\n  methods: {\n    async handleDeleteClick() {\n      const response = await ApiService.getInstance()\n        .actors()\n        .delete(this.$route.params.id);\n      if (response.success) {\n        await this.$router.push({ name: \"app_actors_list\" });\n      } else {\n        this.error = \"Failed to delete actor\";\n      }\n    },\n    async loadActor() {\n      this.isLoading = true;\n      const response = await ApiService.getInstance()\n        .actors()\n        .get(this.$route.params.id);\n      if (response.success) {\n        this.actorData = response.data;\n      } else {\n        this.error = \"Failed to load actor\";\n      }\n      this.isLoading = false;\n    },\n  },\n};\n</script>\n"]}]}