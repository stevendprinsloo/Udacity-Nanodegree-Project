{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue","mtime":1654082319703},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js","mtime":1618407608051},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjZXNzVG9rZW46IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhdXRoLmlzQXV0aGVudGljYXRlZDsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhdXRoLmVycm9yOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlzQXV0aGVudGljYXRlZDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghdmFsKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaGFuZGxlUmVmcmVzaCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSkoKTsKICAgICAgfQogICAgfSwKICAgIGVycm9yOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXV0aC5sb2dvdXQoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0IikgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBlcm1pc3Npb25zIikpIHsKICAgIC8vICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0Iik7CiAgICAvLyAgIGNvbnN0IHBlcm1pc3Npb25zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBlcm1pc3Npb25zIik7CiAgICAvLyAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRBY2Nlc3NUb2tlbiIsIHRva2VuKTsKICAgIC8vICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEF1dGhQZXJtaXNzaW9ucyIsIHBlcm1pc3Npb25zKTsKICAgIC8vICAgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiYXBwX2Rhc2hib2FyZCIgfSk7CiAgICAvLyB9CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIExvZyB0aGUgdXNlciBpbgogICAgaGFuZGxlUmVmcmVzaDogZnVuY3Rpb24gaGFuZGxlUmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmhhbmRsZVJlZGlyZWN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZVJlZGlyZWN0OiBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcmVsb2FkZWRQYXRoOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZWxvYWRlZFBhdGggPSBfdGhpczQuJHN0b3JlLmdldHRlcnNbImdldFJlbG9hZGVkUGF0aCJdOwoKICAgICAgICAgICAgICAgIGlmICghKHJlbG9hZGVkUGF0aCAmJiByZWxvYWRlZFBhdGggIT09ICIvIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6IHJlbG9hZGVkUGF0aAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJhcHBfZGFzaGJvYXJkIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgic2V0SXNSZWxvYWRlZCIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRzdG9yZS5kaXNwYXRjaCgic2V0UmVsb2FkZWRQYXRoIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJGF1dGgubG9naW5XaXRoUmVkaXJlY3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRUb2tlbigpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmhhbmRsZVJlZGlyZWN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgdG9rZW4sIGp3dCwgcGVybWlzc2lvbnM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGVybWlzc2lvbnMiKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIGp3dCA9IHsKICAgICAgICAgICAgICAgICAgdmFsdWU6IHRva2VuLAogICAgICAgICAgICAgICAgICBleHBpcnk6IERhdGUubm93ICsgODY0MDAwMDAKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiand0IiwgSlNPTi5zdHJpbmdpZnkoand0KSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0gX3RoaXM2LiRqd3REZWMuZGVjb2RlKHRva2VuKS5wZXJtaXNzaW9uczsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgic2V0QWNjZXNzVG9rZW4iLCB0b2tlbik7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kc3RvcmUuZGlzcGF0Y2goInNldEF1dGhQZXJtaXNzaW9ucyIsIHBlcm1pc3Npb25zKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzNi5hY2Nlc3NUb2tlbiA9IHRva2VuOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9kYXNoYm9hcmQiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIExvZyB0aGUgdXNlciBvdXQKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLiRhdXRoLmxvZ291dCh7CiAgICAgICAgcmV0dXJuVG86IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;EACAA,aADA;EAEAC,IAFA,kBAEA;IACA;MACAC;IADA;EAGA,CANA;EAOAC;IACAC,eADA,6BACA;MACA;IACA,CAHA;IAIAC,KAJA,mBAIA;MACA;IACA;EANA,CAPA;EAeAC;IACAF;MACAG,OADA,mBACAC,GADA,EACA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAA,GADA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAEA,qBAFA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAIA;IALA,CADA;IAQAH;MACAE,OADA,mBACAC,GADA,EACA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAA,GADA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAEA,qBAFA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAIA,CALA;MAMAC;IANA;EARA,CAfA;EAgCAC,OAhCA,qBAgCA,CACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAPA;MAAA;QAAA;UAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAQA,CAxCA;EAyCAC;IACA;IACAC,aAFA,2BAEA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,iBADA;;cAAA;gBAAA;gBAAA,OAEA,uBAFA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,CALA;IAMAC,cANA,4BAMA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,YADA,GACA,wCADA;;gBAAA,MAEAA,oCAFA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAGA;kBAAAC;gBAAA,EAHA;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAKA;kBAAAf;gBAAA,EALA;;cAAA;gBAAA;gBAAA,OAOA,8CAPA;;cAAA;gBAAA;gBAAA,OAQA,+CARA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CAfA;IAgBAgB,KAhBA,mBAgBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,gCADA;;cAAA;gBAAA;gBAAA,OAEA,iBAFA;;cAAA;gBAAA;gBAAA,OAGA,uBAHA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CApBA;IAqBAC,QArBA,sBAqBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MAEAC,kEAFA;kBAAA;kBAAA;gBAAA;;gBAGAC;gBAHA;gBAAA;;cAAA;gBAAA;gBAAA,OAKA,+BALA;;cAAA;gBAKAA,KALA;gBAMAC,GANA,GAMA;kBACAC,YADA;kBAEAC;gBAFA,CANA;gBAUAJ;;cAVA;gBAYAK,WAZA,GAYA,wCAZA;gBAAA;gBAAA,OAaA,+CAbA;;cAAA;gBAAA;gBAAA,OAcA,yDAdA;;cAAA;gBAeA;gBAfA;gBAAA,OAgBA;kBAAAvB;gBAAA,EAhBA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiBA,CAtCA;IAuCA;IACAwB,MAxCA,oBAwCA;MACA;QACAC;MADA;IAGA;EA5CA;AAzCA","names":["name","data","accessToken","computed","isAuthenticated","error","watch","handler","val","immediate","created","methods","handleRefresh","handleRedirect","reloadedPath","path","login","getToken","localStorage","token","jwt","value","expiry","permissions","logout","returnTo"],"sourceRoot":"src/components/security","sources":["Login.vue"],"sourcesContent":["<template>\n  <section\n    class=\"h-100 w-100 position-absolute bg-light\"\n    style=\"left: 0; top: 0\"\n  >\n    <div class=\"h-100 w-100 d-flex justify-content-center align-items-center\">\n      <div class=\"card p-4 shadow-sm\">\n        <div\n          class=\"card-body d-flex align-items-center justify-content-center flex-column\"\n        >\n          <h2 class=\"fs-3\" v-if=\"!$auth.loading\">Casting Agency Login</h2>\n          <div v-if=\"!$auth.loading\">\n            <p\n              v-if=\"!$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              Please click the button below to login\n            </p>\n            <p\n              v-if=\"$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              You are logged in! <br />\n              Click the button below to logout.\n            </p>\n          </div>\n          <div>\n            <!-- show login when not authenticated -->\n            <div class=\"w-100 d-flex justify-content-center\">\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"!$auth.isAuthenticated && !$auth.loading\"\n                @click=\"login\"\n                :disabled=\"$auth.loading\"\n              >\n                <span>Log in</span>\n              </button>\n              <span v-if=\"$auth.loading\">\n                Loading\n                <span\n                  class=\"spinner-border ms-2\"\n                  style=\"width: 1.2rem; height: 1.2rem\"\n                  role=\"status\"\n                ></span>\n              </span>\n              <!-- show logout when authenticated -->\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"$auth.isAuthenticated\"\n                @click=\"logout\"\n              >\n                Log out\n              </button>\n            </div>\n\n            <div\n              v-if=\"$auth.isAuthenticated\"\n              class=\"w-100 d-flex justify-content-center\"\n            >\n              <button\n                class=\"btn btn-sm btn-outline-secondary mt-4\"\n                @click=\"getToken\"\n                :disabled=\"accessToken\"\n              >\n                <span v-if=\"accessToken\">Token Saved!</span>\n                <span v-else>Get Token</span>\n              </button>\n              <router-link\n                v-if=\"accessToken\"\n                class=\"btn-primary btn mt-2\"\n                :to=\"{ name: 'app_dashboard' }\"\n                >App Dashboard\n              </router-link>\n            </div>\n          </div>\n          <div v-if=\"$auth.error\">\n            {{ $auth.error }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      accessToken: null,\n    };\n  },\n  computed: {\n    isAuthenticated() {\n      return this.$auth.isAuthenticated;\n    },\n    error() {\n      return this.$auth.error;\n    },\n  },\n  watch: {\n    isAuthenticated: {\n      async handler(val) {\n        if (val) {\n          await this.handleRefresh();\n        }\n      },\n    },\n    error: {\n      async handler(val) {\n        if (val) {\n          await this.$auth.logout();\n        }\n      },\n      immediate: true,\n    },\n  },\n  async created() {\n    // if (localStorage.getItem(\"jwt\") && localStorage.getItem(\"permissions\")) {\n    //   const token = localStorage.getItem(\"jwt\");\n    //   const permissions = localStorage.getItem(\"permissions\");\n    //   await this.$store.dispatch(\"setAccessToken\", token);\n    //   await this.$store.dispatch(\"setAuthPermissions\", permissions);\n    //   await this.$router.push({ name: \"app_dashboard\" });\n    // }\n  },\n  methods: {\n    // Log the user in\n    async handleRefresh() {\n      await this.getToken();\n      await this.handleRedirect();\n    },\n    async handleRedirect() {\n      const reloadedPath = this.$store.getters[\"getReloadedPath\"];\n      if (reloadedPath && reloadedPath !== \"/\") {\n        await this.$router.push({ path: reloadedPath });\n      } else {\n        await this.$router.push({ name: \"app_dashboard\" });\n      }\n      await this.$store.dispatch(\"setIsReloaded\", false);\n      await this.$store.dispatch(\"setReloadedPath\", null);\n    },\n    async login() {\n      await this.$auth.loginWithRedirect();\n      await this.getToken();\n      await this.handleRedirect();\n    },\n    async getToken() {\n      let token;\n      if (localStorage.getItem(\"jwt\") && localStorage.getItem(\"permissions\")) {\n        token = localStorage.getItem(\"jwt\");\n      } else {\n        token = await this.$auth.getTokenSilently();\n        const jwt = {\n          value: token,\n          expiry: Date.now + 86400000,\n        };\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n      }\n      const permissions = this.$jwtDec.decode(token).permissions;\n      await this.$store.dispatch(\"setAccessToken\", token);\n      await this.$store.dispatch(\"setAuthPermissions\", permissions);\n      this.accessToken = token;\n      await this.$router.push({ name: \"app_dashboard\" });\n    },\n    // Log the user out\n    logout() {\n      this.$auth.logout({\n        returnTo: window.location.origin,\n      });\n    },\n  },\n};\n</script>\n"]}]}