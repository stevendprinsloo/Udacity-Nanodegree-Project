{"remainingRequest":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/steven/workspace/casting-agency-frontend/src/components/security/Login.vue","mtime":1655027057236},{"path":"/home/steven/workspace/casting-agency-frontend/babel.config.js","mtime":1652640712513},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/babel-loader/lib/index.js","mtime":1650889791270},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1618407608009},{"path":"/home/steven/workspace/casting-agency-frontend/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1634219578329}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3N0ZXZlbi93b3Jrc3BhY2UvY2FzdGluZy1hZ2VuY3ktZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJvb3RzdHJhcCBmcm9tICJib290c3RyYXAiOwp2YXIgcG9wb3ZlclRyaWdnZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYnMtdG9nZ2xlPSJwb3BvdmVyIl0nKTsKCl90b0NvbnN1bWFibGVBcnJheShwb3BvdmVyVHJpZ2dlckxpc3QpLm1hcChmdW5jdGlvbiAocG9wb3ZlclRyaWdnZXJFbCkgewogIHJldHVybiBuZXcgYm9vdHN0cmFwLlBvcG92ZXIocG9wb3ZlclRyaWdnZXJFbCk7Cn0pOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY2Vzc1Rva2VuOiBudWxsLAogICAgICBpc1Nob3dDcmVkczogdHJ1ZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJGF1dGguaXNBdXRoZW50aWNhdGVkOwogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJGF1dGguZXJyb3I7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaXNBdXRoZW50aWNhdGVkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVSZWZyZXNoKCk7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9LAogICAgZXJyb3I6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhdXRoLmxvZ291dCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7Ly8gaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGVybWlzc2lvbnMiKSkgewogICAgLy8gICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJqd3QiKTsKICAgIC8vICAgY29uc3QgcGVybWlzc2lvbnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGVybWlzc2lvbnMiKTsKICAgIC8vICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEFjY2Vzc1Rva2VuIiwgdG9rZW4pOwogICAgLy8gICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0QXV0aFBlcm1pc3Npb25zIiwgcGVybWlzc2lvbnMpOwogICAgLy8gICBhd2FpdCB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJhcHBfZGFzaGJvYXJkIiB9KTsKICAgIC8vIH0KCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gTG9nIHRoZSB1c2VyIGluCiAgICBoYW5kbGVSZWZyZXNoOiBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmdldFRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuaGFuZGxlUmVkaXJlY3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlUmVkaXJlY3Q6IGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZWxvYWRlZFBhdGg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlbG9hZGVkUGF0aCA9IF90aGlzNC4kc3RvcmUuZ2V0dGVyc1siZ2V0UmVsb2FkZWRQYXRoIl07CgogICAgICAgICAgICAgICAgaWYgKCEocmVsb2FkZWRQYXRoICYmIHJlbG9hZGVkUGF0aCAhPT0gIi8iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogcmVsb2FkZWRQYXRoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogImFwcF9kYXNoYm9hcmQiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHN0b3JlLmRpc3BhdGNoKCJzZXRJc1JlbG9hZGVkIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHN0b3JlLmRpc3BhdGNoKCJzZXRSZWxvYWRlZFBhdGgiLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kYXV0aC5sb2dpbldpdGhSZWRpcmVjdCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldFRva2VuKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuaGFuZGxlUmVkaXJlY3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciB0b2tlbiwgand0LCBwZXJtaXNzaW9uczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwZXJtaXNzaW9ucyIpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJGF1dGguZ2V0VG9rZW5TaWxlbnRseSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB0b2tlbiA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgand0ID0gewogICAgICAgICAgICAgICAgICB2YWx1ZTogdG9rZW4sCiAgICAgICAgICAgICAgICAgIGV4cGlyeTogRGF0ZS5ub3cgKyA4NjQwMDAwMAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJqd3QiLCBKU09OLnN0cmluZ2lmeShqd3QpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcGVybWlzc2lvbnMgPSBfdGhpczYuJGp3dERlYy5kZWNvZGUodG9rZW4pLnBlcm1pc3Npb25zOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCJzZXRBY2Nlc3NUb2tlbiIsIHRva2VuKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgic2V0QXV0aFBlcm1pc3Npb25zIiwgcGVybWlzc2lvbnMpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX3RoaXM2LmFjY2Vzc1Rva2VuID0gdG9rZW47CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAiYXBwX2Rhc2hib2FyZCIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gTG9nIHRoZSB1c2VyIG91dAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJGF1dGgubG9nb3V0KHsKICAgICAgICByZXR1cm5Ubzogd2luZG93LmxvY2F0aW9uLm9yaWdpbgogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AAEA,mDACA,4BADA;;AAGA,2CACA;EAAA;AAAA,CADA;;AAIA;EACAA,aADA;EAEAC,IAFA,kBAEA;IACA;MACAC,iBADA;MAEAC;IAFA;EAIA,CAPA;EAQAC;IACAC,eADA,6BACA;MACA;IACA,CAHA;IAIAC,KAJA,mBAIA;MACA;IACA;EANA,CARA;EAgBAC;IACAF;MACAG,OADA,mBACAC,GADA,EACA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAA,GADA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAEA,qBAFA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAIA;IALA,CADA;IAQAH;MACAE,OADA,mBACAC,GADA,EACA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,KACAA,GADA;oBAAA;oBAAA;kBAAA;;kBAAA;kBAAA,OAEA,qBAFA;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;MAIA,CALA;MAMAC;IANA;EARA,CAhBA;EAiCAC,OAjCA,qBAiCA,CACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAPA;MAAA;QAAA;UAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAQA,CAzCA;EA0CAC;IACA;IACAC,aAFA,2BAEA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,iBADA;;cAAA;gBAAA;gBAAA,OAEA,uBAFA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,CALA;IAMAC,cANA,4BAMA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,YADA,GACA,wCADA;;gBAAA,MAEAA,oCAFA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAGA;kBAAAC;gBAAA,EAHA;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAKA;kBAAAhB;gBAAA,EALA;;cAAA;gBAAA;gBAAA,OAOA,8CAPA;;cAAA;gBAAA;gBAAA,OAQA,+CARA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA,CAfA;IAgBAiB,KAhBA,mBAgBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,gCADA;;cAAA;gBAAA;gBAAA,OAEA,iBAFA;;cAAA;gBAAA;gBAAA,OAGA,uBAHA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CApBA;IAqBAC,QArBA,sBAqBA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MAEAC,kEAFA;kBAAA;kBAAA;gBAAA;;gBAGAC;gBAHA;gBAAA;;cAAA;gBAAA;gBAAA,OAKA,+BALA;;cAAA;gBAKAA,KALA;gBAMAC,GANA,GAMA;kBACAC,YADA;kBAEAC;gBAFA,CANA;gBAUAJ;;cAVA;gBAYAK,WAZA,GAYA,wCAZA;gBAAA;gBAAA,OAaA,+CAbA;;cAAA;gBAAA;gBAAA,OAcA,yDAdA;;cAAA;gBAeA;gBAfA;gBAAA,OAgBA;kBAAAxB;gBAAA,EAhBA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiBA,CAtCA;IAuCA;IACAyB,MAxCA,oBAwCA;MACA;QACAC;MADA;IAGA;EA5CA;AA1CA","names":["name","data","accessToken","isShowCreds","computed","isAuthenticated","error","watch","handler","val","immediate","created","methods","handleRefresh","handleRedirect","reloadedPath","path","login","getToken","localStorage","token","jwt","value","expiry","permissions","logout","returnTo"],"sourceRoot":"src/components/security","sources":["Login.vue"],"sourcesContent":["<template>\n  <section\n    class=\"h-100 w-100 position-absolute bg-light py-5\"\n    style=\"left: 0; top: 0; overflow: auto\"\n  >\n    <div\n      class=\"w-100 d-flex justify-content-center align-items-center\"\n      style=\"min-height: 100%\"\n    >\n      <div class=\"card p-4 shadow-sm\">\n        <div\n          class=\"card-body d-flex align-items-center justify-content-center flex-column\"\n        >\n          <h2 class=\"fs-3\" v-if=\"!$auth.loading\">Casting Agency Login</h2>\n          <div v-if=\"!$auth.loading\">\n            <p\n              v-if=\"!$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              Please click the button below to login\n            </p>\n            <p\n              v-if=\"$auth.isAuthenticated\"\n              class=\"text-secondary text-center\"\n              style=\"font-size: 13px\"\n            >\n              You are logged in! <br />\n              Click the button below to logout.\n            </p>\n          </div>\n          <div>\n            <!-- show login when not authenticated -->\n            <div class=\"w-100 d-flex justify-content-center\">\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"!$auth.isAuthenticated && !$auth.loading\"\n                @click=\"login\"\n                :disabled=\"$auth.loading\"\n              >\n                <span>Log in</span>\n              </button>\n              <span v-if=\"$auth.loading\">\n                Loading\n                <span\n                  class=\"spinner-border ms-2\"\n                  style=\"width: 1.2rem; height: 1.2rem\"\n                  role=\"status\"\n                ></span>\n              </span>\n              <!-- show logout when authenticated -->\n              <button\n                class=\"btn btn-lg btn-primary mt-4\"\n                v-if=\"$auth.isAuthenticated\"\n                @click=\"logout\"\n              >\n                Log out\n              </button>\n            </div>\n\n            <div\n              class=\"mt-5 text-center\"\n              v-if=\"!$auth.isAuthenticated && !$auth.loading\"\n            >\n              <div class=\"pb-3 border-bottom\">\n                <button\n                  class=\"btn btn-secondary btn-sm\"\n                  @click=\"isShowCreds = !isShowCreds\"\n                >\n                  <span v-if=\"!isShowCreds\">Show Credentials</span\n                  ><span v-if=\"isShowCreds\">Hide Credentials</span>\n                </button>\n              </div>\n              <div class=\"p-2\" v-if=\"isShowCreds\">\n                <h4 class=\"mt-3 mb-3 pb-3\">Login Credentials:</h4>\n                <div class=\"border-bottom\">\n                  <h5>Casting Assistant:</h5>\n                  <span\n                    class=\"badge d-inline-block text-dark bg-light border mt-2 mb-2\"\n                    style=\"font-size: 14px; transform: translateY(-3px)\"\n                    v-b-popover.hover.top=\"\n                      'list:movies, list:actors, view:movies, view:actors'\n                    \"\n                    title=\"Permissions\"\n                    >See Permissions +</span\n                  >\n                  <p>\n                    Username: manager@gmail.com<br />\n                    Password: manager@123\n                  </p>\n                </div>\n                <div class=\"border-bottom pt-3 pb-3\">\n                  <h5>Casting Director:</h5>\n                  <span\n                    class=\"badge d-inline-block text-dark bg-light border mt-2 mb-2\"\n                    style=\"font-size: 14px; transform: translateY(-3px)\"\n                    v-b-popover.hover.top=\"\n                      'list:movies, list:actors, view:movies, view:actors, edit:actors, edit:movies, add:actors, delete:actors'\n                    \"\n                    title=\"Permissions\"\n                    >See Permissions +</span\n                  >\n                  <p>\n                    Username: director@gmail.com<br />\n                    Password: director@123\n                  </p>\n                </div>\n                <div class=\"pb-3 pt-3 pb-3\">\n                  <h5>Executive Producer:</h5>\n                  <span\n                    class=\"badge d-inline-block text-dark bg-light border mt-2 mb-2\"\n                    style=\"font-size: 14px; transform: translateY(-3px)\"\n                    v-b-popover.hover.top=\"\n                      'list:movies, list:actors, view:movies, view:actors, edit:actors, edit:movies, add:actors, add:movies, delete:actors, delete:movies'\n                    \"\n                    title=\"Permissions\"\n                    >See Permissions +</span\n                  >\n                  <p>\n                    Username: executive@gmail.com<br />\n                    Password: executive@123\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div\n              v-if=\"$auth.isAuthenticated\"\n              class=\"w-100 d-flex justify-content-center\"\n            >\n              <button\n                class=\"btn btn-sm btn-outline-secondary mt-4\"\n                @click=\"getToken\"\n                :disabled=\"accessToken\"\n              >\n                <span v-if=\"accessToken\">Token Saved!</span>\n                <span v-else>Get Token</span>\n              </button>\n              <router-link\n                v-if=\"accessToken\"\n                class=\"btn-primary btn mt-2\"\n                :to=\"{ name: 'app_dashboard' }\"\n                >App Dashboard\n              </router-link>\n            </div>\n          </div>\n          <div v-if=\"$auth.error\">\n            {{ $auth.error }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n<script>\nimport bootstrap from \"bootstrap\";\n\nconst popoverTriggerList = document.querySelectorAll(\n  '[data-bs-toggle=\"popover\"]'\n);\n[...popoverTriggerList].map(\n  (popoverTriggerEl) => new bootstrap.Popover(popoverTriggerEl)\n);\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      accessToken: null,\n      isShowCreds: true,\n    };\n  },\n  computed: {\n    isAuthenticated() {\n      return this.$auth.isAuthenticated;\n    },\n    error() {\n      return this.$auth.error;\n    },\n  },\n  watch: {\n    isAuthenticated: {\n      async handler(val) {\n        if (val) {\n          await this.handleRefresh();\n        }\n      },\n    },\n    error: {\n      async handler(val) {\n        if (val) {\n          await this.$auth.logout();\n        }\n      },\n      immediate: true,\n    },\n  },\n  async created() {\n    // if (localStorage.getItem(\"jwt\") && localStorage.getItem(\"permissions\")) {\n    //   const token = localStorage.getItem(\"jwt\");\n    //   const permissions = localStorage.getItem(\"permissions\");\n    //   await this.$store.dispatch(\"setAccessToken\", token);\n    //   await this.$store.dispatch(\"setAuthPermissions\", permissions);\n    //   await this.$router.push({ name: \"app_dashboard\" });\n    // }\n  },\n  methods: {\n    // Log the user in\n    async handleRefresh() {\n      await this.getToken();\n      await this.handleRedirect();\n    },\n    async handleRedirect() {\n      const reloadedPath = this.$store.getters[\"getReloadedPath\"];\n      if (reloadedPath && reloadedPath !== \"/\") {\n        await this.$router.push({ path: reloadedPath });\n      } else {\n        await this.$router.push({ name: \"app_dashboard\" });\n      }\n      await this.$store.dispatch(\"setIsReloaded\", false);\n      await this.$store.dispatch(\"setReloadedPath\", null);\n    },\n    async login() {\n      await this.$auth.loginWithRedirect();\n      await this.getToken();\n      await this.handleRedirect();\n    },\n    async getToken() {\n      let token;\n      if (localStorage.getItem(\"jwt\") && localStorage.getItem(\"permissions\")) {\n        token = localStorage.getItem(\"jwt\");\n      } else {\n        token = await this.$auth.getTokenSilently();\n        const jwt = {\n          value: token,\n          expiry: Date.now + 86400000,\n        };\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n      }\n      const permissions = this.$jwtDec.decode(token).permissions;\n      await this.$store.dispatch(\"setAccessToken\", token);\n      await this.$store.dispatch(\"setAuthPermissions\", permissions);\n      this.accessToken = token;\n      await this.$router.push({ name: \"app_dashboard\" });\n    },\n    // Log the user out\n    logout() {\n      this.$auth.logout({\n        returnTo: window.location.origin,\n      });\n    },\n  },\n};\n</script>\n"]}]}